"use strict";(self.webpackChunkakart=self.webpackChunkakart||[]).push([[307],{6442:(e,r,a)=>{a.d(r,{A:()=>m});var s=a(7154);const o=500;var n=a(1036);const t="get",i="post",l="put",d="delete";const m=class{constructor(){this.isLoggedIn=!1,this.userData={},this.userToken=null,this.baseURL="http://64.227.181.53:3000/"}get(e,r){return new Promise(((a,s)=>{this.api(t,e,r).then((e=>{a(e)})).catch((e=>{console.log(e)}))}))}post(e,r){return new Promise(((a,s)=>{this.api(i,e,r).then((e=>{a(e)})).catch((e=>{}))}))}put(e,r){return new Promise(((a,s)=>{this.api(l,e,r).then((e=>{a(e)})).catch((e=>{}))}))}delete(e,r){return new Promise(((a,s)=>{this.api(d,e,r).then((e=>{a(e)})).catch((e=>{console.log(e)}))}))}api(e,r,a){return new Promise(((t,i)=>{let l={};l.method=e,l.url=this.baseURL+r,l.headers=this.setHeaders(a),console.log("axiosConfig.headers",l.headers),a&&a&&(l.data=a),(0,s.A)(l).then((e=>{var r;e&&e.status===o?n.oR.error("Something went wrong!!"):(t(e),e&&(console.log("response",e),n.oR.success(null===(r=e.data)||void 0===r?void 0:r.messages)))})).catch((e=>{var r,a;let s=null===e||void 0===e?void 0:e.response,o=null===e||void 0===e?void 0:e.response.data;console.log("ERROR",e),null!==(r=e.response.data)&&void 0!==r&&r.email&&e.response.data.email.length>0?n.oR.error("Email ".concat(e.response.data.email[0])):null!==(a=e.response.data)&&void 0!==a&&a.phone_number&&e.response.data.phone_number.length>0?n.oR.error("Mobile Number ".concat(e.response.data.phone_number[0])):e.response.data.message&&e.response.data.message.length>0?n.oR.error("".concat(e.response.data.message)):401===(null===s||void 0===s?void 0:s.status)?n.oR.error("".concat(o.errors)):422===(null===s||void 0===s?void 0:s.status)?n.oR.error("".concat(e.response.data.errors)):n.oR.error("An error occurred")}))}))}setHeaders(e){let r={"accept-language":"en","Content-Type":"application/json",Accept:"application/json"};if(r.Authorization=localStorage.getItem("token"),e&&(e.isMultipart&&(r["Content-Type"]="multipart/form-data"),e.headers))for(var a in e.headers)e.headers.hasOwnProperty(a)&&(r[a]=e.headers[a]);return r}}},1848:(e,r,a)=>{a.d(r,{g:()=>o});var s=a(899);const o=e=>{const r={};return e.forEach((e=>{switch(e){case"name":r.name=s.Yj().min(2,"Name is Short!").max(50,"Name is Long!").required("Name is required");break;case"email":r.email=s.Yj().email("Invalid email address format").required("Email is required");break;case"mobile_number":r.mobile_number=s.Yj().required("Mobile Number is required").matches(/^[6-9][0-9]{9}$/,"Invalid Mobile Number");break;case"phone_number":r.phone_number=s.Yj().required("Phone Number is required").matches(/^[6-9][0-9]{9}$/,"Invalid Phone Number");break;case"relationship":r.relationship=s.Yj().min(3,"Relationship is Short!").max(50,"Relationship is Long!").required("Relationship is required");break;case"address":r.address=s.Yj().min(5,"Address is Short!").max(100,"Address is Long!").required("Address is required");break;case"first_name":r.first_name=s.Yj().min(2,"First Name is Short!").max(50,"First Name is Long!").required("First Name is required");break;case"last_name":r.last_name=s.Yj().min(2,"Last Name is Short!").max(50,"Last Name is Long!").required("Last Name is required");break;case"password":r.password=s.Yj().min(8,"Password should be at least 8 characters").required("Password is required");break;case"old_password":r.old_password=s.Yj().min(8,"Current Password should be at least 8 characters").required("Current Password is required");break;case"new_password":r.new_password=s.Yj().min(8,"New Password should be at least 8 characters").required("New Password is required");break;case"password_confirmation":r.password_confirmation=s.Yj().min(8,"Password should be at least 8 characters").required("Confirm Password is required");break;case"confirm_password":r.confirm_password=s.Yj().min(8,"Confirm Password should be at least 8 characters").required("Confirm Password is required");break;case"input":r.input=s.Yj().required("Input is required")}})),s.Ik(r)}},5307:(e,r,a)=>{a.r(r),a.d(r,{default:()=>w});a(5043);var s=a(2518),o=a(6446),n=a(5865),t=a(9252),i=a(3193),l=a(1292),d=a(5795),m=a(3336),u=a(3216),h=a(9456),c=a(3516),p=a(1848),x=a(6870);const g=new(a(6442).A),b=(e,r,a)=>function(s){s(((e,r)=>({type:x.XB,payload:[e,r]}))(e,r)),(async(e,r)=>(console.log("userId,user in api",e,r),new Promise((async(a,s)=>{try{const s=await g.put("".concat("accounts","/").concat(e),r);console.log("result updatefamily api",s.data),a(s)}catch(o){s(o)}}))))(e,r).then((e=>{console.log(e),s({type:x.Us}),200===e.status&&a("/login")})).catch((e=>s((e=>({type:x.fc,payload:e}))(e.message))))};var f=a(579);const w=()=>{const e=(0,u.zy)(),r=(0,u.Zp)(),a=(0,h.wA)(),x=null===e||void 0===e?void 0:e.state;let g=null===x||void 0===x?void 0:x.id;const w=(0,p.g)(["first_name","last_name","phone_number","email","password","password_confirmation"]),_=(0,c.Wx)({initialValues:{first_name:"",last_name:"",phone_number:"",email:"",password:"",password_confirmation:""},validationSchema:w,onSubmit:e=>(async(e,s)=>{console.log("values",e);try{a(b(g,e,r)),s()}catch(o){}})(e)});return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(t.A,{component:"main",maxWidth:"sm",sx:{margin:"auto"},children:(0,f.jsx)(o.A,{children:(0,f.jsxs)(m.A,{elevation:1,variant:"elevation",square:!1,sx:{marginTop:8,padding:"20px",display:"flex",flexDirection:"column",alignItems:"center",bgcolor:"#fff"},children:[(0,f.jsx)(n.A,{variant:"h5",children:"Create Your Account"}),(0,f.jsxs)(o.A,{component:"form",onSubmit:_.handleSubmit,sx:{mt:1,padding:"25px"},children:[(0,f.jsxs)(i.A,{fullWidth:!0,sx:{marginBottom:"10px"},children:[(0,f.jsx)(l.A,{sx:{marginBottom:"5px",color:"#000",fontWeight:400,fontSize:"15px"},children:"Your First Name"}),(0,f.jsx)(d.A,{type:"text",id:"first_name",name:"first_name",size:"small",value:_.values.first_name,onBlur:_.handleBlur,onChange:_.handleChange,error:_.touched.first_name&&Boolean(_.errors.first_name),helperText:_.touched.first_name&&_.errors.first_name})]}),(0,f.jsxs)(i.A,{fullWidth:!0,sx:{marginBottom:"10px"},children:[(0,f.jsx)(l.A,{sx:{marginBottom:"5px",color:"#000",fontWeight:400,fontSize:"15px"},children:"Your Last Name"}),(0,f.jsx)(d.A,{type:"text",id:"last_name",name:"last_name",size:"small",value:_.values.last_name,onBlur:_.handleBlur,onChange:_.handleChange,error:_.touched.last_name&&Boolean(_.errors.last_name),helperText:_.touched.last_name&&_.errors.last_name})]}),(0,f.jsxs)(i.A,{fullWidth:!0,sx:{marginBottom:"10px"},children:[(0,f.jsx)(l.A,{sx:{marginBottom:"5px",color:"#000",fontWeight:400,fontSize:"15px"},children:"Mobile Number"}),(0,f.jsx)(d.A,{type:"text",id:"phone_number",name:"phone_number",size:"small",disabled:!(null===x||void 0===x||!x.phone_number),value:null!==x&&void 0!==x&&x.phone_number?_.values.phone_number=null===x||void 0===x?void 0:x.phone_number:_.values.phone_number,onBlur:_.handleBlur,onChange:_.handleChange,error:_.touched.phone_number&&Boolean(_.errors.phone_number),helperText:_.touched.phone_number&&_.errors.phone_number})]}),(0,f.jsxs)(i.A,{fullWidth:!0,sx:{marginBottom:"10px"},children:[(0,f.jsx)(l.A,{sx:{marginBottom:"5px",color:"#000",fontWeight:400,fontSize:"15px"},children:"Your Email Id"}),(0,f.jsx)(d.A,{type:"email",id:"email",name:"email",size:"small",disabled:!(null===x||void 0===x||!x.email),value:null!==x&&void 0!==x&&x.email?_.values.email=null===x||void 0===x?void 0:x.email:_.values.email,onBlur:_.handleBlur,onChange:_.handleChange,error:_.touched.email&&Boolean(_.errors.email),helperText:_.touched.email&&_.errors.email})]}),(0,f.jsxs)(i.A,{fullWidth:!0,sx:{marginBottom:"10px"},children:[(0,f.jsx)(l.A,{sx:{marginBottom:"5px",color:"#000",fontWeight:400,fontSize:"15px"},children:"Password"}),(0,f.jsx)(d.A,{type:"password",id:"password",name:"password",size:"small",value:_.values.password,onBlur:_.handleBlur,onChange:_.handleChange,error:_.touched.password&&Boolean(_.errors.password),helperText:_.touched.password&&_.errors.password})]}),(0,f.jsxs)(i.A,{fullWidth:!0,sx:{marginBottom:"10px"},children:[(0,f.jsx)(l.A,{sx:{marginBottom:"5px",color:"#000",fontWeight:400,fontSize:"15px"},children:"Confirm Password"}),(0,f.jsx)(d.A,{type:"password",id:"password_confirmation",name:"password_confirmation",size:"small",value:_.values.password_confirmation,onBlur:_.handleBlur,onChange:_.handleChange,error:_.touched.password_confirmation&&Boolean(_.errors.password_confirmation),helperText:_.touched.password_confirmation&&_.errors.password_confirmation})]}),(0,f.jsx)(s.A,{type:"submit",sx:{mt:3,mb:2,color:"#111",bgcolor:"#FFD814",borderColor:"#FCD200",borderRadius:"md",textDecoration:"none",textTransform:"none","&:hover":{bgcolor:"#FCD200"}},fullWidth:!0,children:"Continue"})]})]})})})})}}}]);
//# sourceMappingURL=307.92dfbcf4.chunk.js.map