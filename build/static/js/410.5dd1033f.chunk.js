"use strict";(self.webpackChunkakart=self.webpackChunkakart||[]).push([[410],{6442:(e,r,n)=>{n.d(r,{A:()=>u});var o=n(7154);const a=500;var t=n(1036);const s="get",i="post",l="put",c="delete";const u=class{constructor(){this.isLoggedIn=!1,this.userData={},this.userToken=null,this.baseURL="http://64.227.181.53:3000/"}get(e,r){return new Promise(((n,o)=>{this.api(s,e,r).then((e=>{n(e)})).catch((e=>{console.log(e)}))}))}post(e,r){return new Promise(((n,o)=>{this.api(i,e,r).then((e=>{n(e)})).catch((e=>{}))}))}put(e,r){return new Promise(((n,o)=>{this.api(l,e,r).then((e=>{n(e)})).catch((e=>{}))}))}delete(e,r){return new Promise(((n,o)=>{this.api(c,e,r).then((e=>{n(e)})).catch((e=>{console.log(e)}))}))}api(e,r,n){return new Promise(((s,i)=>{let l={};l.method=e,l.url=this.baseURL+r,l.headers=this.setHeaders(n),n&&n&&(l.data=n),(0,o.A)(l).then((e=>{var r;e&&e.status===a?alert("Something went wrong!!"):(s(e),e&&(console.log("response",e),t.oR.success(null===(r=e.data)||void 0===r?void 0:r.message)))})).catch((e=>{var r,n;let o=null===e||void 0===e?void 0:e.response,a=null===e||void 0===e?void 0:e.response.data;console.log("ERROR",e),null!==(r=e.response.data)&&void 0!==r&&r.email&&e.response.data.email.length>0?t.oR.error("Email ".concat(e.response.data.email[0])):null!==(n=e.response.data)&&void 0!==n&&n.phone_number&&e.response.data.phone_number.length>0?t.oR.error("Mobile Number ".concat(e.response.data.phone_number[0])):e.response.data.message&&e.response.data.message.length>0?t.oR.error("".concat(e.response.data.message)):401===(null===o||void 0===o?void 0:o.status)?t.oR.error("".concat(a.errors)):t.oR.error("An error occurred")}))}))}setHeaders(e){let r={"accept-language":"en","Content-Type":"application/json",Accept:"application/json"};if(r.Authorization=localStorage.getItem("token"),e&&(e.isMultipart&&(r["Content-Type"]="multipart/form-data"),e.headers))for(var n in e.headers)e.headers.hasOwnProperty(n)&&(r[n]=e.headers[n]);return r}}},1848:(e,r,n)=>{n.d(r,{g:()=>a});var o=n(899);const a=e=>{const r={};return e.forEach((e=>{switch(e){case"name":r.name=o.Yj().min(2,"Name is Short!").max(50,"Name is Long!").required("Name is required");break;case"email":r.email=o.Yj().email("Invalid email address format").required("Email is required");break;case"mobile_number":r.mobile_number=o.Yj().required("Mobile Number is required").matches(/^[6-9][0-9]{9}$/,"Invalid Mobile Number");break;case"phone_number":r.phone_number=o.Yj().required("Phone Number is required").matches(/^[6-9][0-9]{9}$/,"Invalid Phone Number");break;case"relationship":r.relationship=o.Yj().min(3,"Relationship is Short!").max(50,"Relationship is Long!").required("Relationship is required");break;case"address":r.address=o.Yj().min(5,"Address is Short!").max(100,"Address is Long!").required("Address is required");break;case"first_name":r.first_name=o.Yj().min(2,"First Name is Short!").max(50,"First Name is Long!").required("First Name is required");break;case"last_name":r.last_name=o.Yj().min(2,"Last Name is Short!").max(50,"Last Name is Long!").required("Last Name is required");break;case"password":r.password=o.Yj().min(8,"Password should be at least 8 characters").required("Password is required");break;case"new_password":r.new_password=o.Yj().min(8,"New Password should be at least 8 characters").required("New Password is required");break;case"password_confirmation":r.password_confirmation=o.Yj().min(8,"Password should be at least 8 characters").required("Confirm Password is required")}})),o.Ik(r)}},3410:(e,r,n)=>{n.r(r),n.d(r,{default:()=>f});n(5043);var o=n(2518),a=n(8446),t=n(8903),s=n(6446),i=n(5865),l=n(622),c=n(3193),u=n(1292),d=n(1744),m=n(3336),h=n(3216),p=n(3516),b=n(6870);const g=new(n(6442).A),x=(e,r)=>(console.log("user in mobile actionss",e),function(n){var o;n((o=e,{type:b.CM,payload:o})),(async e=>(console.log("mobileusers in api",e),new Promise((async(r,n)=>{try{const n=await g.post("".concat("accounts"),e);console.log("result in api",n),r(n)}catch(o){n(o)}}))))(e).then((e=>{var o,a;console.log(e);let t={phone_number:null===(o=e.data)||void 0===o?void 0:o.account.phone_number,id:null===(a=e.data)||void 0===a?void 0:a.account.id};n({type:b.l3}),200===e.status&&r("/otp/otpverify",{state:t})})).catch((e=>n((e=>({type:b.wu,payload:e}))(e.message))))});var v=n(1135),y=n(1848),A=n(579);const f=()=>{const e=(0,h.Zp)(),r=(0,p.wA)(),n=(0,y.g)(["phone_number"]),b=(0,v.Wx)({initialValues:{phone_number:"",type:"mobile_account"},validationSchema:n,onSubmit:n=>(async n=>{try{console.log("values",n),r(x(n,e))}catch(o){}})(n)});return(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(l.A,{component:"main",maxWidth:"xs",sx:{margin:"auto"},children:(0,A.jsx)(s.A,{children:(0,A.jsxs)(m.A,{elevation:1,variant:"elevation",square:!1,sx:{mx:"auto",my:15,py:3,px:2,display:"flex",flexDirection:"column",gap:2,borderRadius:"sm",bgcolor:"#fff"},children:[(0,A.jsx)(i.A,{textAlign:"center",component:"h1",variant:"h5",mt:2,children:"Sign Up"}),(0,A.jsxs)("form",{onSubmit:b.handleSubmit,style:{marginTop:"20px"},children:[(0,A.jsxs)(c.A,{fullWidth:!0,children:[(0,A.jsx)(u.A,{sx:{marginBottom:"10px",color:"#000",forntWeight:400,fontSize:"15px"},children:"Enter Your Mobile Number"}),(0,A.jsx)(d.A,{placeholder:"enter your mobile number",id:"phone_number",name:"phone_number",size:"small",value:b.values.phone_number,onBlur:b.handleBlur,onChange:b.handleChange,error:b.touched.phone_number&&Boolean(b.errors.phone_number),helperText:b.touched.phone_number&&b.errors.phone_number})]}),(0,A.jsx)(o.A,{type:"submit",fullWidth:!0,sx:{mt:2,mb:2,color:"#111",bgcolor:"#FFD814",borderColor:"#FCD200",borderRadius:"md",textDecoration:"none",textTransform:"none","&:hover":{bgcolor:"#FCD200"}},children:"Send OTP"}),(0,A.jsxs)(t.Ay,{container:!0,display:"flex",flexDirection:"row",justifyContent:"flex-end",sx:{marginBottom:"8px",gap:1,color:"#9e9e9e",cursor:"pointer"},children:[(0,A.jsx)(t.Ay,{item:!0,children:(0,A.jsx)(i.A,{variant:"body1",children:"Already a member ?"})}),(0,A.jsx)(t.Ay,{item:!0,children:(0,A.jsx)(a.A,{underline:"none",variant:"body1",onClick:()=>e("/login"),children:"Sign in"})})]})]})]})})})})}},8446:(e,r,n)=>{n.d(r,{A:()=>_});var o=n(8587),a=n(8168),t=n(5043),s=n(8387),i=n(8606),l=n(6803),c=n(4535),u=n(2876),d=n(2191),m=n(5849),h=n(5865),p=n(7056),b=n(2400);function g(e){return(0,b.Ay)("MuiLink",e)}const x=(0,p.A)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var v=n(7162),y=n(3650);const A={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},f=e=>{let{theme:r,ownerState:n}=e;const o=(e=>A[e]||e)(n.color),a=(0,v.Yn)(r,"palette.".concat(o),!1)||n.color,t=(0,v.Yn)(r,"palette.".concat(o,"Channel"));return"vars"in r&&t?"rgba(".concat(t," / 0.4)"):(0,y.X4)(a,.4)};var w=n(579);const j=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],k=(0,c.Ay)(h.A,{name:"MuiLink",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:n}=e;return[r.root,r["underline".concat((0,l.A)(n.underline))],"button"===n.component&&r.button]}})((e=>{let{theme:r,ownerState:n}=e;return(0,a.A)({},"none"===n.underline&&{textDecoration:"none"},"hover"===n.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===n.underline&&(0,a.A)({textDecoration:"underline"},"inherit"!==n.color&&{textDecorationColor:f({theme:r,ownerState:n})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===n.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(x.focusVisible)]:{outline:"auto"}})})),_=t.forwardRef((function(e,r){const n=(0,u.A)({props:e,name:"MuiLink"}),{className:c,color:h="primary",component:p="a",onBlur:b,onFocus:x,TypographyClasses:v,underline:y="always",variant:f="inherit",sx:_}=n,S=(0,o.A)(n,j),{isFocusVisibleRef:q,onBlur:N,onFocus:R,ref:C}=(0,d.A)(),[P,L]=t.useState(!1),Y=(0,m.A)(r,C),D=(0,a.A)({},n,{color:h,component:p,focusVisible:P,underline:y,variant:f}),F=(e=>{const{classes:r,component:n,focusVisible:o,underline:a}=e,t={root:["root","underline".concat((0,l.A)(a)),"button"===n&&"button",o&&"focusVisible"]};return(0,i.A)(t,g,r)})(D);return(0,w.jsx)(k,(0,a.A)({color:h,className:(0,s.A)(F.root,c),classes:v,component:p,onBlur:e=>{N(e),!1===q.current&&L(!1),b&&b(e)},onFocus:e=>{R(e),!0===q.current&&L(!0),x&&x(e)},ref:Y,ownerState:D,variant:f,sx:[...Object.keys(A).includes(h)?[]:[{color:h}],...Array.isArray(_)?_:[_]]},S))}))}}]);
//# sourceMappingURL=410.5dd1033f.chunk.js.map